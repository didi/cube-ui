!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.swipe=e():(t.cube=t.cube||{},t.cube.swipe=e())}("undefined"!=typeof self?self:this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="./",e(e.s=337)}({152:function(t,e,n){var i,s,r;!function(n,o){s=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t){"use strict";function e(t,e,i,s){var r={year:"(Y+)",month:"(M+)",date:"(D+)",hour:"(h+)",minute:"(m+)",second:"(s+)",quarter:"(q+)",millisecond:"(S)"};if(new RegExp(r[t],s).test(e)){var o="year"===t?i.toString().substr(4-RegExp.$1.length):1===RegExp.$1.length?i:n(i);e=e.replace(RegExp.$1,o)}return e}function n(t){return("00"+t).substr((""+t).length)}function i(t,n){var i={year:{value:t.getFullYear(),regExpAttributes:"i"},month:{value:t.getMonth()+1},date:{value:t.getDate(),regExpAttributes:"i"},hour:{value:t.getHours(),regExpAttributes:"i"},minute:{value:t.getMinutes()},second:{value:t.getSeconds()},quarter:{value:Math.floor((t.getMonth()+3)/3),regExpAttributes:"i"},millisecond:{value:t.getMilliseconds()}};for(var s in i)n=e(s,n,i[s].value,i[s].regExpAttributes);return n}function s(t){var e=t.getFullYear(),n=t.getMonth()+1,i=t.getDate();return+new Date(e+"/"+n+"/"+i+" 00:00:00")}function r(t,e){return Math.floor((s(t)-s(e))/c)}function o(){return window.performance&&window.performance.now?window.performance.now()+window.performance.timing.navigationStart:+new Date}function a(t,e){var n=30;return[1,3,5,7,8,10,12].indexOf(t)>-1?n=31:2===t&&(n=e&&e%400&&(e%4||!(e%100))?28:29),n}Object.defineProperty(t,"__esModule",{value:!0});var c=864e5;t.DAY_TIMESTAMP=c,t.HOUR_TIMESTAMP=36e5,t.MINUTE_TIMESTAMP=6e4,t.pad=n,t.formatType=e,t.formatDate=i,t.getZeroStamp=s,t.getDayDiff=r,t.getNow=o,t.computeNatureMaxDay=a})},239:function(t,e,n){function i(t){n(341)}var s=n(8)(n(342),n(344),i,null,null);t.exports=s.exports},337:function(t,e,n){var i,s,r;!function(o,a){s=[t,e,n(338),n(239)],i=a,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t,e,n,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=s(n),o=s(i);r.default.install=function(t){t.component(r.default.name,r.default),t.component(o.default.name,o.default)},r.default.Item=o.default,e.default=r.default,t.exports=e.default})},338:function(t,e,n){function i(t){n(339)}var s=n(8)(n(340),n(345),i,null,null);t.exports=s.exports},339:function(t,e){},340:function(t,e,n){var i,s,r;!function(o,a){s=[t,e,n(239)],i=a,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={name:"cube-swipe",props:{data:{type:Array,default:function(){return[]}},autoShrink:{type:Boolean,default:!1}},created:function(){this.activeIndex=-1},methods:{onItemClick:function(t,e){this.$emit("item-click",t,e)},onBtnClick:function(t,e){var n=this.data[e];this.$emit("btn-click",t,e,n)},onItemActive:function(t){if(t!==this.activeIndex){if(-1!==this.activeIndex){this.$refs.swipeItem[this.activeIndex].shrink()}this.activeIndex=t}}},components:{CubeSwipeItem:i.default}},t.exports=e.default})},341:function(t,e){},342:function(t,e,n){var i,s,r;!function(o,a){s=[t,e,n(91),n(343),n(152)],i=a,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t,e,n,i,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=(0,n.prefixStyle)("transform"),o=(0,n.prefixStyle)("transitionProperty"),a=(0,n.prefixStyle)("transitionDuration"),c=(0,n.prefixStyle)("transitionTimingFunction");e.default={name:"cube-swipe-item",props:{item:{type:Object,default:function(){return{}}},btns:{type:Array,default:function(){return[]}},index:{type:Number,index:-1},autoShrink:{type:Boolean,default:!1}},created:function(){this.x=0,this.state=0},mounted:function(){var t=this;this.scrollerStyle=this.$refs.swipeItem.style,this.$nextTick(function(){t.refresh()}),this.$on("scroll",this._handleBtns)},methods:{_initCachedBtns:function(){this.cachedBtns=[];for(var t=this.$refs.btns.length,e=0;e<t;e++)this.cachedBtns.push({width:(0,n.getRect)(this.$refs.btns[e]).width})},_handleBtns:function(t){if(0!==this.btns.length)for(var e=this.$refs.btns.length,n=0,i=-this.maxScrollX,s=0;s<e;s++){var o=this.$refs.btns[s],c=(i-n)/i,u=void 0,f=c*t-t;u=t<this.maxScrollX?this.cachedBtns[s].width+c*(this.maxScrollX-t):this.cachedBtns[s].width,n+=this.cachedBtns[s].width,o.style.width=u+"px",o.style[r]="translate("+f+"px)",o.style[a]="0ms"}},_isInBtns:function(t){for(var e=t,n=!1;e&&e.className.indexOf("cube-swipe-item")<0;){if(e.className.indexOf("cube-swipe-btns")>=0){n=!0;break}e=e.parentNode}return n},_calculateBtnsWidth:function(){for(var t=0,e=this.cachedBtns.length,n=0;n<e;n++)t+=this.cachedBtns[n].width;this.maxScrollX=-t},_translate:function(t,e){var n=e?" translateZ(0)":"";this.scrollerStyle[r]="translate("+t+"px,0)"+n,this.x=t},_transitionProperty:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";this.scrollerStyle[o]=t},_transitionTimingFunction:function(t){this.scrollerStyle[c]=t},_transitionTime:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.scrollerStyle[a]=t+"ms"},_getComputedPositionX:function(){var t=window.getComputedStyle(this.$refs.swipeItem,null);return t=t[r].split(")")[0].split(", "),+(t[12]||t[4])},_translateBtns:function(t,e,n){if(0!==this.btns.length)for(var i=this.$refs.btns.length,s=0,u=0,f=0;f<i;f++){var l=this.$refs.btns[f];u=1===this.state?s:0,s+=this.cachedBtns[f].width,l.style[r]="translate("+u+"px,0) translateZ(0)",l.style[o]="all",l.style[c]=e,l.style[a]=t+"ms",n&&(l.style.width=this.cachedBtns[f].width+"px")}},refresh:function(){this.btns.length>0&&(this._initCachedBtns(),this._calculateBtnsWidth()),this.endTime=0},shrink:function(){var t=this;this.stop(),this.state=0,this.$nextTick(function(){t.scrollTo(0,600,i.easeOutQuart),t._translateBtns(600,i.easeOutQuart)})},grow:function(){this.state=1;var t=this.x<this.maxScrollX,e=i.easeOutCubic;this.scrollTo(this.maxScrollX,600,e),this._translateBtns(600,e,t)},scrollTo:function(t,e,n){this._transitionProperty(),this._transitionTimingFunction(n),this._transitionTime(e),this._translate(t,!0),e&&(this.isInTransition=!0)},genBtnStyl:function(t){return"background: "+t.color},clickItem:function(t){this.$emit("item-click",t,this.index)},clickBtn:function(t){this.$emit("btn-click",t,this.index),this.autoShrink&&this.shrink()},stop:function(){if(this.isInTransition){this.isInTransition=!1;var t=0===this.state?0:this._getComputedPositionX();this._translate(t),this.$emit("scroll",this.x)}},onTouchStart:function(t){var e=this;this.$emit("active",this.index),this.stop(),this.moved=!1,this.movingDirectionX=0;var n=t.touches[0];this.pointX=n.pageX,this.pointY=n.pageY,this.distX=0,this.distY=0,this.startX=this.x,this._transitionTime(),this.startTime=(0,s.getNow)(),1!==this.state||this._isInBtns(t.target)||(this.shrinkTimer=setTimeout(function(){e.shrink()},300))},onTouchMove:function(t){if(this.moved&&(clearTimeout(this.shrinkTimer),t.stopPropagation()),!this.isInTransition){t.preventDefault();var e=t.touches[0],n=e.pageX-this.pointX,i=e.pageY-this.pointY;this.pointX=e.pageX,this.pointY=e.pageY,this.distX+=n,this.distY+=i;var r=Math.abs(this.distX);if(!(r+5<=Math.abs(this.distY))){var o=(0,s.getNow)();if(!(o-this.endTime>300&&r<15)){this.movingDirectionX=n>0?-1:n<0?1:0;var a=this.x+n;a>0&&(a=0),a<this.maxScrollX&&(a=this.x+n/3),this.moved||(this.moved=!0),this._translate(a,!0),o-this.startTime>300&&(this.startTime=o,this.startX=this.x),this.$emit("scroll",this.x)}}}},onTouchEnd:function(){if(this.moved){if(-1===this.movingDirectionX)return void this.shrink();this.endTime=(0,s.getNow)();var t=this.endTime-this.startTime,e=Math.abs(this.x-this.startX);t<300&&e>15||this.x<this.maxScrollX/2?this.grow():this.shrink()}},onTransitionEnd:function(){this.isInTransition=!1,this._transitionTime(),this._translate(this.x)}},watch:{btns:function(){var t=this;this.$nextTick(function(){t.refresh()})}}},t.exports=e.default})},343:function(t,e,n){var i,s,r;!function(n,o){s=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.easeOutBack="cubic-bezier(0.18, 0.89, 0.32, 1.28)",t.easeOutQuart="cubic-bezier(0.165, 0.84, 0.44, 1)",t.easeOutCubic="cubic-bezier(0.22, 0.61, 0.36, 1)"})},344:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"swipeItem",staticClass:"cube-swipe-item",on:{transitionend:t.onTransitionEnd,touchstart:t.onTouchStart,touchmove:t.onTouchMove,touchend:t.onTouchEnd}},[t._t("default",[n("div",{staticClass:"cube-swipe-item-inner border-bottom-1px",on:{click:function(e){t.clickItem(t.item)}}},[n("span",[t._v(t._s(t.item.text))])])]),t._v(" "),n("ul",{staticClass:"cube-swipe-btns"},t._l(t.btns,function(e){return n("li",{ref:"btns",refInFor:!0,staticClass:"cube-swipe-btn",style:t.genBtnStyl(e),on:{click:function(n){n.preventDefault(),t.clickBtn(e)}}},[n("span",{staticClass:"text"},[t._v(t._s(e.text))])])}))],2)},staticRenderFns:[]}},345:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cube-swipe"},[t._t("default",[n("transition-group",{attrs:{name:"cube-swipe",tag:"ul"}},t._l(t.data,function(e,i){return n("li",{key:e.item.value},[n("cube-swipe-item",{ref:"swipeItem",refInFor:!0,attrs:{btns:e.btns,item:e.item,index:i,"auto-shrink":t.autoShrink},on:{"item-click":t.onItemClick,"btn-click":t.onBtnClick,active:t.onItemActive}})],1)}))])],2)},staticRenderFns:[]}},8:function(t,e){t.exports=function(t,e,n,i,s){var r,o=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(r=t,o=t.default);var c="function"==typeof o?o.options:o;e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns),i&&(c._scopeId=i);var u;if(s?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=u):n&&(u=n),u){var f=c.functional,l=f?c.render:c.beforeCreate;f?c.render=function(t,e){return u.call(e),l(t,e)}:c.beforeCreate=l?[].concat(l,u):[u]}return{esModule:r,exports:o,options:c}}},90:function(t,e,n){var i,s,r;!function(n,o){s=[e],i=o,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=t.inBrowser="undefined"!=typeof window,n=t.ua=e&&navigator.userAgent.toLowerCase();t.isAndroid=n&&n.indexOf("android")>0})},91:function(t,e,n){var i,s,r;!function(o,a){s=[e,n(90)],i=a,void 0!==(r="function"==typeof i?i.apply(e,s):i)&&(t.exports=r)}(0,function(t,e){"use strict";function n(t,e){return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)}function i(t,e){if(!n(t,e)){var i=t.className.split(" ");i.push(e),t.className=i.join(" ")}}function s(t,e){if(n(t,e)){var i=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(i," ")}}function r(t,e){return t.getAttribute("data-"+e)}function o(t){return{top:t.offsetTop,left:t.offsetLeft,width:t.offsetWidth,height:t.offsetHeight}}function a(t){return!1!==f&&("standard"===f?"transitionEnd"===t?"transitionend":t:f+t.charAt(0).toUpperCase()+t.substr(1))}function c(t,e){for(var i=t.target;i&&!n(i,e);){if(i===t.currentTarget)return null;i=i.parentNode}return i}function u(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.type,s=void 0===i?"Event":i,r=n.bubbles,o=void 0===r||r,a=n.cancelable,c=void 0===a||a,u=document.createEvent(s);u.initEvent(e,o,c),t.dispatchEvent(u)}Object.defineProperty(t,"__esModule",{value:!0}),t.hasClass=n,t.addClass=i,t.removeClass=s,t.getData=r,t.getRect=o,t.prefixStyle=a,t.getMatchedTarget=c,t.dispatchEvent=u;var f=function(){if(!e.inBrowser)return!1;var t=document.createElement("div").style,n={standard:"transform",webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform"};for(var i in n)if(void 0!==t[n[i]])return i;return!1}()})}})});