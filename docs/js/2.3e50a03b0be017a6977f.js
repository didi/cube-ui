webpackJsonp([2],{L6bT:function(s,a){s.exports={render:function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("section",[t("h2",{attrs:{id:"Validator"}},[t("a",{staticClass:"anchor",attrs:{href:"#cube-Validator-anchor","aria-hidden":"true"}},[t("svg",{attrs:{"aria-hidden":"true",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}})])]),s._v(" Validator")]),s._v(" "),s._m(0),s._v(" "),t("p",[s._v("校验器，用于对表单进行验证，并提示相应的错误信息。")]),s._v(" "),t("h3",{attrs:{id:"示例"}},[t("a",{staticClass:"anchor",attrs:{href:"#cube-示例-anchor","aria-hidden":"true"}},[t("svg",{attrs:{"aria-hidden":"true",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}})])]),s._v(" 示例")]),s._v(" "),s._m(1),s._v(" "),t("h3",{attrs:{id:"Props"}},[t("a",{staticClass:"anchor",attrs:{href:"#cube-Props-anchor","aria-hidden":"true"}},[t("svg",{attrs:{"aria-hidden":"true",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}})])]),s._v(" Props")]),s._v(" "),s._m(2),s._v(" "),t("h3",{attrs:{id:"Slot"}},[t("a",{staticClass:"anchor",attrs:{href:"#cube-Slot-anchor","aria-hidden":"true"}},[t("svg",{attrs:{"aria-hidden":"true",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}})])]),s._v(" Slot")]),s._v(" "),s._m(3),s._v(" "),t("h3",{attrs:{id:"事件"}},[t("a",{staticClass:"anchor",attrs:{href:"#cube-事件-anchor","aria-hidden":"true"}},[t("svg",{attrs:{"aria-hidden":"true",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}})])]),s._v(" 事件")]),s._v(" "),s._m(4),s._v(" "),t("h3",{attrs:{id:"实例方法"}},[t("a",{staticClass:"anchor",attrs:{href:"#cube-实例方法-anchor","aria-hidden":"true"}},[t("svg",{attrs:{"aria-hidden":"true",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}})])]),s._v(" 实例方法")]),s._v(" "),s._m(5),s._v(" "),t("h3",{attrs:{id:"规则"}},[t("a",{staticClass:"anchor",attrs:{href:"#cube-规则-anchor","aria-hidden":"true"}},[t("svg",{attrs:{"aria-hidden":"true",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}})])]),s._v(" 规则")]),s._v(" "),s._m(6),s._v(" "),t("h3",{attrs:{id:"添加默认提示信息"}},[t("a",{staticClass:"anchor",attrs:{href:"#cube-添加默认提示信息-anchor","aria-hidden":"true"}},[t("svg",{attrs:{"aria-hidden":"true",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}})])]),s._v(" 添加默认提示信息")]),s._v(" "),t("p",[s._v("首先我们看一下内置的默认提示信息是怎样的，如果你需要修改，可以通过 addMessage 修改相应子属性。")]),s._v(" "),s._m(7),s._v(" "),s._m(8),s._v(" "),s._m(9),s._v(" "),s._m(10),s._v(" "),t("p",[s._v("如上，组件内部解析默认的消息是类似于 Vue filter 的机制。")]),s._v(" "),s._m(11),s._v(" "),s._m(12),s._v(" "),s._m(13),s._v(" "),s._m(14),s._v(" "),s._m(15),s._v(" "),t("p",[s._v("通过 Validator.addHelper 方法注册的工具函数实际上是在 Locale.helpers 的命名空间下，你也可以导入 Locale 模块并且通过 Locale.addHelper 注册工具函数，两者都是指向同一块内存地址。")]),s._v(" "),t("h3",{attrs:{id:"添加类型"}},[t("a",{staticClass:"anchor",attrs:{href:"#cube-添加类型-anchor","aria-hidden":"true"}},[t("svg",{attrs:{"aria-hidden":"true",height:"16",version:"1.1",viewBox:"0 0 16 16",width:"16"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"}})])]),s._v(" 添加类型")]),s._v(" "),s._m(16),s._v(" "),s._m(17),s._v(" "),s._m(18),s._v(" "),s._m(19)])},staticRenderFns:[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("blockquote",[t("p",[s._v("1.5.0 新增")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ul",[t("li",[t("p",[s._v("基本用法")]),s._v(" "),t("p",[s._v("Validator 作为一个独立的组件，通过 model 属性绑定它需要检验的数据；rules 定义验证规则，在 rules 规则中，可以配置 type、required 等内置规则，也可以用 pattern 添加校验的正则表达式，或 custom 自定义验证函数，具体细节可见后面的规则；针对各类规则，我们有比较完善的默认提示文案，具体可见后面的默认提示文案；同时，你也可以用 messages 属性用于自定义提示信息。")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-html"}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"E-mail"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-input")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-validator")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"valid"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"rules"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":messages")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"messages"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-validator")]),s._v(">")]),s._v("\n")])]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-js"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  data() {\n    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("valid")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v(",\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rules")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'email'")]),s._v(",\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("pattern")]),s._v(": "),t("span",{attrs:{class:"hljs-regexp"}},[s._v("/didi.com$/")]),s._v(",\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("custom")]),s._v(": "),t("span",{attrs:{class:"hljs-function"}},[s._v("("),t("span",{attrs:{class:"hljs-params"}},[s._v("val")]),s._v(") =>")]),s._v(" {\n          "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" val.length >= "),t("span",{attrs:{class:"hljs-number"}},[s._v("12")]),s._v("\n        }\n      },\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("messages")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("pattern")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'The E-mail suffix need to be didi.com.'")]),s._v(",\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("custom")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'The E-mail need contain at least 12 characters.'")]),s._v("\n      },\n    }\n  }\n}\n")])])]),s._v(" "),t("li",[t("p",[s._v("给表单添加警告样式")]),s._v(" "),t("p",[s._v("如果想给表单组件添加警告样式，可以通过把表单组件作为默认插槽，插在 Validator 组件内。因为当未通过验证时，Validator 组件会有一个样式类，cube-validator_warn，给这个类下的表单元素增加样式即可。")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-html"}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-validator")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"rules"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"valid"')]),s._v(">")]),s._v("\n  "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-input")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-validator")]),s._v(">")]),s._v("\n")])]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-js"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  data() {\n    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("valid")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v(",\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rules")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'email'")]),s._v(",\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("min")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("6")]),s._v("\n      }\n    }\n  }\n}\n")])]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-css"}},[s._v("// "),t("span",{attrs:{class:"hljs-selector-tag"}},[s._v("add")]),s._v(" "),t("span",{attrs:{class:"hljs-selector-tag"}},[s._v("warning")]),s._v(" "),t("span",{attrs:{class:"hljs-selector-tag"}},[s._v("style")]),s._v(" "),t("span",{attrs:{class:"hljs-selector-tag"}},[s._v("to")]),s._v(" "),t("span",{attrs:{class:"hljs-selector-tag"}},[s._v("input")]),s._v("\n"),t("span",{attrs:{class:"hljs-selector-class"}},[s._v(".cube-validator_warn")]),s._v("\n  "),t("span",{attrs:{class:"hljs-selector-tag"}},[s._v("input")]),s._v("\n    "),t("span",{attrs:{class:"hljs-selector-tag"}},[s._v("border")]),s._v(": "),t("span",{attrs:{class:"hljs-selector-tag"}},[s._v("solid")]),s._v(" 1"),t("span",{attrs:{class:"hljs-selector-tag"}},[s._v("px")]),s._v(" "),t("span",{attrs:{class:"hljs-selector-tag"}},[s._v("yellow")]),s._v("\n")])])]),s._v(" "),t("li",[t("p",[s._v("自定义提示插槽")]),s._v(" "),t("p",[s._v("用 messages 属性只能配置提示信息文案，但当你想加图标等自定义提示时，可以使用 message 插槽。这是一个作用域插槽，提供的作用域参数基本上能够满足所有的灵活定制需求，参数包括了：dirty，待检验的数据是否有修改过；message，首条没通过的规则的提示信息；result，对象，内含每条规则的校验结果和提示信息，如{ required: { valid: false, invalid: true, message: '必填' } }。")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-html"}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-validator")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"valid"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"rules"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":messages")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"messages"')]),s._v(">")]),s._v("\n  "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"component name"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-input")]),s._v(">")]),s._v("\n  "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("slot")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"message"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"custom-msg"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("slot-scope")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"props"')]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-if")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"(props.dirty || props.validated) && !valid"')]),s._v(">")]),s._v("\n      "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("i")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"dd-cubeic-important"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("i")]),s._v(">")]),s._v(" {{ props.message }}\n      "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-for")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"(item, index) in Object.values(props.result)"')]),s._v("\n          "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":key")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"index"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-if")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"item.inValid"')]),s._v(">")]),s._v("\n          {{ item.message + ' ' }}\n        "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("span")]),s._v(">")]),s._v("\n      "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n  "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-validator")]),s._v(">")]),s._v("\n")])]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-js"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  data() {\n    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("valid")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v(",\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rules")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(",\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("pattern")]),s._v(": "),t("span",{attrs:{class:"hljs-regexp"}},[s._v("/^cube-/")]),s._v(",\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("min")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("8")]),s._v(",\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("max")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("10")]),s._v("\n      },\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("messages")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("pattern")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'The component name need start with \"cube-\"'")]),s._v("\n      },\n    }\n  }\n}\n")])]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-css"}},[t("span",{attrs:{class:"hljs-selector-class"}},[s._v(".custom-msg")]),s._v("\n  "),t("span",{attrs:{class:"hljs-selector-tag"}},[s._v("color")]),s._v(": "),t("span",{attrs:{class:"hljs-selector-tag"}},[s._v("orange")]),s._v("\n")])])]),s._v(" "),t("li",[t("p",[s._v("异步校验"),t("sup",[s._v("1.8.0+")])]),s._v(" "),t("p",[s._v("支持校验规则是异步的情况，约定如果校验规则函数的返回值是一个函数（"),t("strong",[s._v("该函数接收一个 "),t("code",{pre:!0},[s._v("resolve")]),s._v(" 回调，如果调用传入 "),t("code",{pre:!0},[s._v("true")]),s._v(" 则代表校验成功，否则都视为失败")]),s._v("）或者是一个 Promise 对象（"),t("strong",[t("code",{pre:!0},[s._v("resolve")]),s._v(" 的值是 "),t("code",{pre:!0},[s._v("true")]),s._v(" 的话就是校验成功，否则都视为失败")]),s._v("）那么就是异步校验，同时在校验的过程中会派发 "),t("code",{pre:!0},[s._v("validating")]),s._v(" 事件，在校验后派发 "),t("code",{pre:!0},[s._v("validated")]),s._v(" 事件。")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-html"}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("class")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"validator-item"')]),s._v(">")]),s._v("\n  "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("Async validate: "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("p")]),s._v(">")]),s._v("\n  "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-validator")]),s._v("\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"valid"')]),s._v("\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"captcha"')]),s._v("\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"rules"')]),s._v("\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":messages")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"messages"')]),s._v("\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":immediate")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"immediate"')]),s._v("\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("@validating")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"validatingHandler"')]),s._v("\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("@validated")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"validatedHandler"')]),s._v(">")]),s._v("\n    "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"captcha"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"Please input captcha"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-input")]),s._v(">")]),s._v("\n  "),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-validator")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("div")]),s._v(">")]),s._v("\n")])]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-js"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  data() {\n    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("valid")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v(",\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("captcha")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rules")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'number'")]),s._v(",\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("len")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("6")]),s._v(",\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("captchaCheck")]),s._v(": "),t("span",{attrs:{class:"hljs-function"}},[s._v("("),t("span",{attrs:{class:"hljs-params"}},[s._v("val")]),s._v(") =>")]),s._v(" {\n          "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{attrs:{class:"hljs-function"}},[s._v("("),t("span",{attrs:{class:"hljs-params"}},[s._v("resolve")]),s._v(") =>")]),s._v(" {\n            setTimeout("),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n              resolve(val === "),t("span",{attrs:{class:"hljs-string"}},[s._v("'123456'")]),s._v(")\n            }, "),t("span",{attrs:{class:"hljs-number"}},[s._v("1000")]),s._v(")\n          }\n          "),t("span",{attrs:{class:"hljs-comment"}},[s._v("/** or return promise:\n          return new Promise((resolve) => {\n            setTimeout(() => {\n              resolve(val === '123456')\n            }, 1000)\n          })\n          **/")]),s._v("\n        }\n      },\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("messages")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("captchaCheck")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'Please input \"123456\"'")]),s._v("\n      }\n    }\n  },\n  "),t("span",{attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n    validatingHandler() {\n      "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{attrs:{class:"hljs-string"}},[s._v("'validating'")]),s._v(")\n    },\n    validatedHandler() {\n      "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("console")]),s._v(".log("),t("span",{attrs:{class:"hljs-string"}},[s._v("'validated'")]),s._v(")\n    }\n  }\n}\n")])]),s._v(" "),t("p",[s._v("上述的 "),t("code",{pre:!0},[s._v("captchaCheck")]),s._v(" 就是一个异步校验规则，校验过程需花费 1 秒。")])]),s._v(" "),t("li",[t("p",[s._v("提交")]),s._v(" "),t("p",[s._v("虽然提交不属于 Validator 组件，但它往往与校验结果相关联着。所以这里说一下我们对提交的一种最佳实践，可供参考。重点在于对同时存在多个校验任务，以及提交时无论是否填写过表单都要进行校验，这两个需求的处理。")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-html"}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text0"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"Required"')]),s._v("/>")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-validator")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"validator0"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"result[0]"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text0"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"rules0"')]),s._v("/>")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text1"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"E-mail"')]),s._v("/>")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-validator")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"validator1"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"result[1]"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text1"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"rules1"')]),s._v("/>")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text2"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"TEL"')]),s._v("/>")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-validator")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("ref")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"validator2"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"result[2]"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text2"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"rules2"')]),s._v("/>")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-button")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("@click")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"submit"')]),s._v(">")]),s._v("Submit"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-button")]),s._v(">")]),s._v("\n")])]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-js"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  data() {\n    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("result")]),s._v(": ["),t("span",{attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v(", "),t("span",{attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v(", "),t("span",{attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v("],\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("text0")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rules0")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v(",\n      },\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("text1")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rules1")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'email'")]),s._v(",\n      },\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("text2")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("''")]),s._v(",\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rules2")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'tel'")]),s._v(",\n      },\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("trigger")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("false")]),s._v("\n    }\n  },\n  "),t("span",{attrs:{class:"hljs-attr"}},[s._v("methods")]),s._v(": {\n    submit() {\n      "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" p1 = "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$refs.validator0.validate()\n      "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" p2 = "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$refs.validator1.validate()\n      "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" p3 = "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$refs.validator2.validate()\n      "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("Promise")]),s._v(".all([p1, p2, p3]).then("),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-params"}},[s._v("()")]),s._v(" =>")]),s._v(" {\n        "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("if")]),s._v(" ("),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".result.every("),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-params"}},[s._v("item")]),s._v(" =>")]),s._v(" item)) {\n          "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("this")]),s._v(".$createToast({\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'correct'")]),s._v(",\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("txt")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'Submited'")]),s._v(",\n            "),t("span",{attrs:{class:"hljs-attr"}},[s._v("time")]),s._v(": "),t("span",{attrs:{class:"hljs-number"}},[s._v("1000")]),s._v("\n          }).show()\n        }\n      })\n    }\n  }\n}\n")])]),s._v(" "),t("p",[s._v("对于有多个校验同时通过才可提交的情况，为了不用一个一个去取校验结果变量，可以把这组校验结果存在一个数组，在提交时，遍历这个数组即可。")]),s._v(" "),t("p",[s._v("通过调用 Validator 实例的 "),t("code",{pre:!0},[s._v("validate")]),s._v(" 方法可以去校验处理，从 1.8.0 版本后支持回调参数且如果浏览器支持 Promise 那么返回值就是 Promise 对象。")])])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("table",[t("thead",[t("tr",[t("th",[s._v("参数")]),s._v(" "),t("th",[s._v("说明")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("可选值")]),s._v(" "),t("th",[s._v("默认值")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("model")]),s._v(" "),t("td",[s._v("必传，指定需要校验的数据")]),s._v(" "),t("td",[s._v("Any")]),s._v(" "),t("td",[s._v("-")]),s._v(" "),t("td",[s._v("-")])]),s._v(" "),t("tr",[t("td",[s._v("v-model")]),s._v(" "),t("td",[s._v("校验结果，是否通过验证")]),s._v(" "),t("td",[s._v("Boolean")]),s._v(" "),t("td",[s._v("true/false")]),s._v(" "),t("td",[s._v("true")])]),s._v(" "),t("tr",[t("td",[s._v("rules")]),s._v(" "),t("td",[s._v("校验规则，具体见后面的内置规则和创建规则")]),s._v(" "),t("td",[s._v("Object")]),s._v(" "),t("td",[s._v("-")]),s._v(" "),t("td",[s._v("{}")])]),s._v(" "),t("tr",[t("td",[s._v("messages")]),s._v(" "),t("td",[s._v("自定义提示信息")]),s._v(" "),t("td",[s._v("Object")]),s._v(" "),t("td",[s._v("-")]),s._v(" "),t("td",[s._v("{}")])]),s._v(" "),t("tr",[t("td",[s._v("immediate")]),s._v(" "),t("td",[s._v("初始时是否立即校验")]),s._v(" "),t("td",[s._v("Boolean")]),s._v(" "),t("td",[s._v("true/false")]),s._v(" "),t("td",[s._v("false")])]),s._v(" "),t("tr",[t("td",[s._v("disabled"),t("sup",[s._v("1.7.0+")])]),s._v(" "),t("td",[s._v("是否禁用")]),s._v(" "),t("td",[s._v("Boolean")]),s._v(" "),t("td",[s._v("true/false")]),s._v(" "),t("td",[s._v("false")])])])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("table",[t("thead",[t("tr",[t("th",[s._v("名字")]),s._v(" "),t("th",[s._v("说明")]),s._v(" "),t("th",[s._v("作用域参数")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("default")]),s._v(" "),t("td",[s._v("表单组件")]),s._v(" "),t("td",[s._v("-")])]),s._v(" "),t("tr",[t("td",[s._v("message")]),s._v(" "),t("td",[s._v("错误提示")]),s._v(" "),t("td",[s._v("dirty: 待检验的数据是否有修改过 "),t("br"),s._v(" validating: 是否正在校验 "),t("br"),s._v(" validated: 是否校验过 "),t("br"),s._v(" message: 首条没通过的规则的提示信息 "),t("br"),s._v(" result: 对象，内含每条规则的校验结果和提示信息，如{ required: { valid: false, invalid: true, message: '必填' } }")])])])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("table",[t("thead",[t("tr",[t("th",[s._v("事件名")]),s._v(" "),t("th",[s._v("说明")]),s._v(" "),t("th",[s._v("参数")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("validating")]),s._v(" "),t("td",[s._v("正在校验（只在异步场景下触发）")]),s._v(" "),t("td",[s._v("-")])]),s._v(" "),t("tr",[t("td",[s._v("validated")]),s._v(" "),t("td",[s._v("校验完成（只在异步场景下触发）")]),s._v(" "),t("td",[s._v("valid: 校验是否成功")])]),s._v(" "),t("tr",[t("td",[s._v("msg-click")]),s._v(" "),t("td",[s._v("错误消息点击")]),s._v(" "),t("td",[s._v("-")])])])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("table",[t("thead",[t("tr",[t("th",[s._v("方法名")]),s._v(" "),t("th",[s._v("说明")]),s._v(" "),t("th",[s._v("参数")]),s._v(" "),t("th",[s._v("返回值")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("validate(cb)")]),s._v(" "),t("td",[s._v("校验")]),s._v(" "),t("td",[s._v("cb: 校验完成后回调函数，主要用于异步校验场景，调用参数为 valid 的值")]),s._v(" "),t("td",[s._v("如果支持 Promise 返回值为 Promise 对象（只有 resolved 状态，值为 valid），否则返回值为 undefined")])])])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ul",[t("li",[t("p",[s._v("已有规则")]),s._v(" "),t("p",[s._v("目前已有的内置规则，有 required、type、min、max、len、notWhitespace、pattern、custom。")]),s._v(" "),t("table",[t("thead",[t("tr",[t("th",[s._v("参数")]),s._v(" "),t("th",[s._v("说明")]),s._v(" "),t("th",[s._v("类型")]),s._v(" "),t("th",[s._v("可选值")]),s._v(" "),t("th",[s._v("示例")])])]),s._v(" "),t("tbody",[t("tr",[t("td",[s._v("required")]),s._v(" "),t("td",[s._v("必填")]),s._v(" "),t("td",[s._v("Boolean")]),s._v(" "),t("td",[s._v("true/false")]),s._v(" "),t("td",[s._v("true")])]),s._v(" "),t("tr",[t("td",[s._v("type")]),s._v(" "),t("td",[s._v("类型")]),s._v(" "),t("td",[s._v("String")]),s._v(" "),t("td",[s._v("'string', 'number', 'array', 'date', 'email', 'tel', 'url'")]),s._v(" "),t("td",[s._v("'tel'")])]),s._v(" "),t("tr",[t("td",[s._v("min")]),s._v(" "),t("td",[s._v("当类型为 number 或 date 时，表示待校验的数据必须大于等于 min；其它类型，表示待校验数据的长度必须大于等于 min")]),s._v(" "),t("td",[s._v("Number")]),s._v(" "),t("td",[s._v("-")]),s._v(" "),t("td",[s._v("6")])]),s._v(" "),t("tr",[t("td",[s._v("max")]),s._v(" "),t("td",[s._v("当类型为 number 或 date 时，表示待校验的数据必须小于等于 max；其它类型，表示待校验数据的长度必须小于等于 max")]),s._v(" "),t("td",[s._v("Number")]),s._v(" "),t("td",[s._v("-")]),s._v(" "),t("td",[s._v("8")])]),s._v(" "),t("tr",[t("td",[s._v("len")]),s._v(" "),t("td",[s._v("当类型为 number 或 date 时，表示待校验的数据必须等于 len；其它类型，表示待校验数据的长度必须等于 len")]),s._v(" "),t("td",[s._v("Number")]),s._v(" "),t("td",[s._v("-")]),s._v(" "),t("td",[s._v("7")])]),s._v(" "),t("tr",[t("td",[s._v("notWhitespace")]),s._v(" "),t("td",[s._v("不允许全是空白符")]),s._v(" "),t("td",[s._v("Boolean")]),s._v(" "),t("td",[s._v("true/false")]),s._v(" "),t("td",[s._v("true")])]),s._v(" "),t("tr",[t("td",[s._v("pattern")]),s._v(" "),t("td",[s._v("正则匹配")]),s._v(" "),t("td",[s._v("RegExp")]),s._v(" "),t("td",[s._v("-")]),s._v(" "),t("td",[s._v("/1$/")])]),s._v(" "),t("tr",[t("td",[s._v("custom")]),s._v(" "),t("td",[s._v("自定义验证函数，当返回值严格等于 true 时，代表验证通过。")]),s._v(" "),t("td",[s._v("Function")]),s._v(" "),t("td",[s._v("-")]),s._v(" "),t("td",[s._v("val => val.length === 7")])])])])]),s._v(" "),t("li",[t("p",[s._v("添加规则")]),s._v(" "),t("p",[s._v("除了已有的内置规则，你还可以使用 Validator 的 addRule 方法，添加自定义的公共规则，以及 addMessage 方法添加相应的默认提示信息。")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-js"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" Vue "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{attrs:{class:"hljs-string"}},[s._v("'vue'")]),s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { Validator } "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{attrs:{class:"hljs-string"}},[s._v("'cube-ui'")]),s._v("\n"),t("span",{attrs:{class:"hljs-comment"}},[s._v("// need use Validator")]),s._v("\nVue.use(Validator)\nValidator.addRule("),t("span",{attrs:{class:"hljs-string"}},[s._v("'odd'")]),s._v(", (val, config, type) => !config || "),t("span",{attrs:{class:"hljs-built_in"}},[s._v("Number")]),s._v("(val) % "),t("span",{attrs:{class:"hljs-number"}},[s._v("2")]),s._v(" === "),t("span",{attrs:{class:"hljs-number"}},[s._v("1")]),s._v(")\nValidator.addMessage("),t("span",{attrs:{class:"hljs-string"}},[s._v("'odd'")]),s._v(", "),t("span",{attrs:{class:"hljs-string"}},[s._v("'Please input odd.'")]),s._v(")\n")])]),s._v(" "),t("p",[s._v("接下来你就可以在 rules 的配置中使用 odd 规则了：")]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-html"}},[t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-validator")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"valid"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v(":rules")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"rules"')]),s._v(">")]),s._v("\n  "),t("span",{attrs:{class:"hljs-tag"}},[s._v("<"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-input")]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("v-model")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"text3"')]),s._v(" "),t("span",{attrs:{class:"hljs-attr"}},[s._v("placeholder")]),s._v("="),t("span",{attrs:{class:"hljs-string"}},[s._v('"odd"')]),s._v(">")]),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-input")]),s._v(">")]),s._v("\n"),t("span",{attrs:{class:"hljs-tag"}},[s._v("</"),t("span",{attrs:{class:"hljs-name"}},[s._v("cube-validator")]),s._v(">")]),s._v("\n")])]),s._v(" "),t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-js"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("export")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("default")]),s._v(" {\n  data() {\n    "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" {\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("text")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'100'")]),s._v(",\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("valid")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("undefined")]),s._v(",\n      "),t("span",{attrs:{class:"hljs-attr"}},[s._v("rules")]),s._v(": {\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'number'")]),s._v(",\n        "),t("span",{attrs:{class:"hljs-attr"}},[s._v("odd")]),s._v(": "),t("span",{attrs:{class:"hljs-literal"}},[s._v("true")]),s._v("\n      }\n    }\n  }\n}\n")])])])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ul",[t("li",[s._v("内置的默认提示信息")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-js"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("const")]),s._v(" messages = {\n  "),t("span",{attrs:{class:"hljs-attr"}},[s._v("required")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'此为必填项'")]),s._v(",\n  "),t("span",{attrs:{class:"hljs-attr"}},[s._v("type")]),s._v(": {\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("string")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入字符'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("number")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入数字'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("array")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'数据类型应为数组'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("date")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请选择有效日期'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("email")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入有效邮箱'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("tel")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入有效的手机号码'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入有效网址'")]),s._v("\n  },\n  "),t("span",{attrs:{class:"hljs-attr"}},[s._v("min")]),s._v(": {\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("string")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'至少输入 {{config}} 位字符'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("number")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'不得小于 {{config}}'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("array")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请选择至少 {{config}} 项'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("date")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请选择 {{config | toLocaleDateString(\"yyyy年MM月dd日\")}} 之后的时间'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("email")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'至少输入 {{config}} 位字符'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("tel")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'至少输入 {{config}} 位字符'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'至少输入 {{config}} 位字符'")]),s._v("\n  },\n  "),t("span",{attrs:{class:"hljs-attr"}},[s._v("max")]),s._v(": {\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("string")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请勿超过 {{config}} 位字符'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("number")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请勿大于 {{config}}'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("array")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'最多选择 {{config}} 项'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("date")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请选择 {{config | toLocaleDateString(\"yyyy年MM月dd日\")}} 之前的时间'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("email")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请勿超过 {{config}} 位字符'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("tel")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请勿超过 {{config}} 位字符'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请勿超过 {{config}} 位字符'")]),s._v("\n  },\n  "),t("span",{attrs:{class:"hljs-attr"}},[s._v("len")]),s._v(": {\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("string")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入 {{config}} 位字符'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("number")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'长度应等于 {{config}}'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("array")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请选择 {{config}} 项'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("date")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请选择 {{config | toLocaleDateString(\"yyyy年MM月dd日\")}} 之前的时间'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("email")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入 {{config}} 位字符'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("tel")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入 {{config}} 位字符'")]),s._v(",\n    "),t("span",{attrs:{class:"hljs-attr"}},[s._v("url")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'请输入 {{config}} 位字符'")]),s._v("\n  },\n  "),t("span",{attrs:{class:"hljs-attr"}},[s._v("pattern")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'格式错误'")]),s._v(",\n  "),t("span",{attrs:{class:"hljs-attr"}},[s._v("custom")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'未通过校验'")]),s._v(",\n  "),t("span",{attrs:{class:"hljs-attr"}},[s._v("notWhitespace")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v("'空白内容无效'")]),s._v("\n}\n")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ul",[t("li",[s._v("修改已有提示信息")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-js"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" Vue "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{attrs:{class:"hljs-string"}},[s._v("'vue'")]),s._v("\n"),t("span",{attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { Validator } "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{attrs:{class:"hljs-string"}},[s._v("'cube-ui'")]),s._v("\n\n"),t("span",{attrs:{class:"hljs-comment"}},[s._v("// need use Validator")]),s._v("\nVue.use(Validator)\n\nValidator.addMessage("),t("span",{attrs:{class:"hljs-string"}},[s._v("'required'")]),s._v(", "),t("span",{attrs:{class:"hljs-string"}},[s._v("'必填'")]),s._v(")\n\n"),t("span",{attrs:{class:"hljs-comment"}},[s._v("// 覆盖 min.date 的提示消息")]),s._v("\nValidator.addMessage("),t("span",{attrs:{class:"hljs-string"}},[s._v("'min'")]),s._v(", {\n  "),t("span",{attrs:{class:"hljs-attr"}},[s._v("date")]),s._v(": "),t("span",{attrs:{class:"hljs-string"}},[s._v('\'请选择 {{config | toLocaleDateString("yyyy年MM月dd日") | tips("请重新输入")}} 之后的时间\'')]),s._v("\n})\nValidator.addHelper("),t("span",{attrs:{class:"hljs-string"}},[s._v("'tips'")]),s._v(", "),t("span",{attrs:{class:"hljs-function"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("function")]),s._v("("),t("span",{attrs:{class:"hljs-params"}},[s._v("result, arg1")]),s._v(") ")]),s._v("{\n  "),t("span",{attrs:{class:"hljs-comment"}},[s._v("// 必须要返回提示消息")]),s._v("\n  "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{attrs:{class:"hljs-string"}},[s._v("`"),t("span",{attrs:{class:"hljs-subst"}},[s._v("${result}")]),s._v(", "),t("span",{attrs:{class:"hljs-subst"}},[s._v("${arg1}")]),s._v("`")]),s._v("\n})\n")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ul",[t("li",[s._v("config")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("p",[s._v("比如你配置的规则是：{type: 'date', min: '2018-10-10'}，那么对于 "),t("code",{pre:!0},[s._v("min")]),s._v(" 下面的 "),t("code",{pre:!0},[s._v("date")]),s._v(" 的消息模板中的 "),t("code",{pre:!0},[s._v("config")]),s._v(" 字段的值就是 '2018-10-10', 因为校验的是一个 "),t("code",{pre:!0},[s._v("date")]),s._v(" 类型，"),t("code",{pre:!0},[s._v("min")]),s._v(" 对应的字段可以是一个 "),t("code",{pre:!0},[s._v("timestamp")]),s._v(" (日期时间戳)或者类似于日期格式的字符串 "),t("code",{pre:!0},[s._v("yyyy-MM-dd mm:ss")]),s._v(" 或者 "),t("code",{pre:!0},[s._v("yyyy/MM/dd mm:ss")]),s._v("。")])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ul",[t("li",[s._v("toLocaleDateString")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("p",[s._v("内置的helper函数，第一个参数是你配置的 config 值，第二个参数是你期望的日期格式， 如上则为 "),t("code",{pre:!0},[s._v("'yyyy年MM月dd日'")]),s._v(", 接受类似于 "),t("code",{pre:!0},[s._v("yyyy-MM-dd mm:ss")]),s._v(" 格式，你也可以通过如下的方式注册你自己的helper函数。")])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-js"}},[s._v("Validator.addHelper("),t("span",{attrs:{class:"hljs-string"}},[s._v("'fnName'")]),s._v(", (result, arg1) => {\n  "),t("span",{attrs:{class:"hljs-comment"}},[s._v("// result -> 上一个helper函数返回的值或者 config 值，如上例则是'2018-10-10'")]),s._v("\n  "),t("span",{attrs:{class:"hljs-comment"}},[s._v("// arg1 -> 你在消息模板传入的字符串, 如上例则是'请重新输入'")]),s._v("\n  "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("let")]),s._v(" ret\n\n  "),t("span",{attrs:{class:"hljs-comment"}},[s._v("// 实现自己的逻辑")]),s._v("\n  ret = result + arg1\n\n  "),t("span",{attrs:{class:"hljs-comment"}},[s._v("// 必须返回处理过后的消息")]),s._v("\n  "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" ret\n})\n")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ul",[t("li",[s._v("添加新的类型")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-js"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { Validator } "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{attrs:{class:"hljs-string"}},[s._v("'cube-ui'")]),s._v("\n\nValidator.addType("),t("span",{attrs:{class:"hljs-string"}},[s._v("'yourType'")]),s._v(", (val) => {\n  "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" val === "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(" && "),t("span",{attrs:{class:"hljs-regexp"}},[s._v("/^[a-z0-9_-]+/i")]),s._v(".test(val)\n})\n")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ul",[t("li",[s._v("修改已有类型")])])},function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("pre",{pre:!0},[t("code",{attrs:{"v-pre":"",class:"language-js"}},[t("span",{attrs:{class:"hljs-keyword"}},[s._v("import")]),s._v(" { Validator } "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("from")]),s._v(" "),t("span",{attrs:{class:"hljs-string"}},[s._v("'cube-ui'")]),s._v("\n\nValidator.addType("),t("span",{attrs:{class:"hljs-string"}},[s._v("'email'")]),s._v(", (val) => {\n  "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("return")]),s._v(" "),t("span",{attrs:{class:"hljs-keyword"}},[s._v("typeof")]),s._v(" val === "),t("span",{attrs:{class:"hljs-string"}},[s._v("'string'")]),s._v(" && "),t("span",{attrs:{class:"hljs-regexp"}},[s._v("/^[a-z0-9_-]+@[a-z0-9_-]+(\\.[a-z0-9_-]+)$/i")]),s._v(".test(val)\n})\n")])])}]}},OsmJ:function(s,a,t){s.exports=t("mXmL")},mXmL:function(s,a,t){var v=t("VU/8")(null,t("L6bT"),null,null,null);s.exports=v.exports}});